"use strict";(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[8696],{"./src/components/theme/Comments/CommentEditModal.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/useIntl.js"),_plone_volto_helpers_Utils_usePrevious__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/Utils/usePrevious.js"),_plone_volto_actions_comments_comments__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/actions/comments/comments.js"),_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/manage/Form/index.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const messages=(0,react_intl__WEBPACK_IMPORTED_MODULE_4__.defineMessages)({editComment:{id:"Edit comment",defaultMessage:"Edit comment"},default:{id:"Default",defaultMessage:"Default"},comment:{id:"Comment",defaultMessage:"Comment"}}),CommentEditModal=props=>{const intl=(0,react_intl__WEBPACK_IMPORTED_MODULE_5__.c)(),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)(),{onOk:onOk,open:open,onCancel:onCancel}=props,request=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)((state=>state.comments.update),react_redux__WEBPACK_IMPORTED_MODULE_1__.shallowEqual),prevRequestLoading=(0,_plone_volto_helpers_Utils_usePrevious__WEBPACK_IMPORTED_MODULE_2__.i)(request.loading);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{prevRequestLoading&&request.loaded&&onOk()}),[onOk,prevRequestLoading,request.loaded]);return props.open&&__jsx(_plone_volto_components_manage_Form__WEBPACK_IMPORTED_MODULE_3__.Ah,{open:open,onSubmit:data=>{dispatch((0,_plone_volto_actions_comments_comments__WEBPACK_IMPORTED_MODULE_6__.k$)(props.id,data.text))},onCancel:onCancel,formData:{text:props.text},title:intl.formatMessage(messages.editComment),schema:{fieldsets:[{id:"default",title:intl.formatMessage(messages.default),fields:["text"]}],properties:{text:{title:intl.formatMessage(messages.comment),type:"string",widget:"textarea",description:""}},required:["text"]}})};CommentEditModal.defaultProps={id:"",text:""},__webpack_exports__.default=CommentEditModal,CommentEditModal.__docgenInfo={description:"",methods:[],displayName:"CommentEditModal",props:{id:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},text:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},request:{description:"",type:{name:"shape",value:{loading:{name:"bool",required:!1},loaded:{name:"bool",required:!1}}},required:!1},open:{description:"",type:{name:"bool"},required:!0},onOk:{description:"",type:{name:"func"},required:!0},onCancel:{description:"",type:{name:"func"},required:!0}}}}}]);