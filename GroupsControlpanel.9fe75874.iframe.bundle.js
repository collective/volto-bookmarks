(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[5876],{"./src/actions/groups/groups.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Gs:function(){return createGroup},Qx:function(){return deleteGroup},Ud:function(){return listGroups},oh:function(){return updateGroup}});var _plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constants/ActionTypes.js");function createGroup(data){return{type:_plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__.k1,request:{op:"post",path:"/@groups",data:data}}}function deleteGroup(id){return{type:_plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__.Ar,request:{op:"del",path:`/@groups/${id}`}}}function listGroups(query,query_group_filter){return void 0!==query_group_filter?{type:_plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__.Wk,request:query_group_filter?{op:"get",path:`/@groups?query=${query_group_filter}`}:{op:"get",path:"/@groups"}}:{type:_plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__.iC,request:query?{op:"get",path:`/@groups?query=${query}`}:{op:"get",path:"/@groups"}}}function updateGroup(id,data){return{type:_plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__.yO,request:{op:"patch",path:`/@groups/${id}`,data:data}}}},"./src/actions/roles/roles.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return listRoles}});var _plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/constants/ActionTypes.js");function listRoles(){return{type:_plone_volto_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_0__.ED,request:{op:"get",path:"/@roles"}}}},"./src/components/manage/Controlpanels/Groups/GroupsControlpanel.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Groups_GroupsControlpanel}});var objectSpread2=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),groups=__webpack_require__("./src/actions/groups/groups.js"),roles=__webpack_require__("./src/actions/roles/roles.js"),controlpanels=__webpack_require__("./src/actions/controlpanels/controlpanels.js"),ActionTypes=__webpack_require__("./src/constants/ActionTypes.js");function authenticatedRole(role){return{type:ActionTypes.iO,result:role}}var users=__webpack_require__("./src/actions/users/users.js"),lib=__webpack_require__("../../../node_modules/.pnpm/jwt-decode@2.2.0/node_modules/jwt-decode/lib/index.js"),lib_default=__webpack_require__.n(lib),Icon=__webpack_require__("./src/components/theme/Icon/Icon.jsx"),Toast=__webpack_require__("./src/components/manage/Toast/Toast.jsx"),Toolbar=__webpack_require__("./src/components/manage/Toolbar/Toolbar.jsx"),Pagination=__webpack_require__("./src/components/theme/Pagination/Pagination.jsx"),Error=__webpack_require__("./src/components/theme/Error/Error.jsx"),RenderGroups=__webpack_require__("./src/components/manage/Controlpanels/Groups/RenderGroups.jsx"),Form=__webpack_require__("./src/components/manage/Form/index.tsx"),react_router_dom=__webpack_require__("../../../node_modules/.pnpm/react-router-dom@5.2.0_react@18.2.0/node_modules/react-router-dom/esm/react-router-dom.js"),Helmet=__webpack_require__("./src/helpers/Helmet/Helmet.jsx"),MessageLabels=__webpack_require__("./src/helpers/MessageLabels/MessageLabels.js"),User=__webpack_require__("./src/helpers/User/User.js"),clear=__webpack_require__("./src/icons/clear.svg"),clear_default=__webpack_require__.n(clear),add_user=__webpack_require__("./src/icons/add-user.svg"),add_user_default=__webpack_require__.n(add_user),save=__webpack_require__("./src/icons/save.svg"),save_default=__webpack_require__.n(save),plone=__webpack_require__("./src/icons/plone.svg"),plone_default=__webpack_require__.n(plone),find=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js"),find_default=__webpack_require__.n(find),map=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),map_default=__webpack_require__.n(map),pull=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pull.js"),pull_default=__webpack_require__.n(pull),react=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),message=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/message.js"),injectIntl=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/injectIntl.js"),react_dom=__webpack_require__("../../../node_modules/.pnpm/react-dom@18.2.0_react@18.2.0/node_modules/react-dom/index.js"),es=__webpack_require__("../../../node_modules/.pnpm/react-redux@8.1.2_@types+react-dom@18.2.12_@types+react@18.2.27_react-dom@18.2.0_react@18.2.0__react@18.2.0_redux@4.2.1/node_modules/react-redux/es/index.js"),react_toastify=__webpack_require__("../../../node_modules/.pnpm/react-toastify@5.5.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-toastify/esm/react-toastify.js"),redux=__webpack_require__("../../../node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js"),Container=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Container/Container.js"),Confirm=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/Confirm/Confirm.js"),Dimmer=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Dimmer/Dimmer.js"),Loader=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Loader/Loader.js"),Segment=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js"),Form_Form=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Form/Form.js"),Input=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Input/Input.js"),Table=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Table/Table.js"),Button=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),__jsx=react.createElement;class GroupsControlpanel extends react.Component{constructor(props){super(props),(0,defineProperty.c)(this,"fetchData",(async()=>{await this.props.getControlpanel("usergroup"),await this.props.listRoles(),this.props.many_groups||(await this.props.listGroups(),this.setState({groupEntries:this.props.groups})),await this.props.getUser(this.props.userId)})),(0,defineProperty.c)(this,"updateGroupRoleSubmit",(e=>{e.stopPropagation(),this.state.groupEntries.forEach((item=>{this.props.updateGroup(item.id,item)})),this.props.authenticatedRole(this.state.authenticatedRole),react_toastify.toast.success(__jsx(Toast.c,{success:!0,title:this.props.intl.formatMessage(MessageLabels.c.success),content:this.props.intl.formatMessage(MessageLabels.c.updateGroups)}))})),(0,defineProperty.c)(this,"onChangePage",((event,{value:value})=>{this.setState({currentPage:value})})),this.onChangeSearch=this.onChangeSearch.bind(this),this.onSearchGroups=this.onSearchGroups.bind(this),this.deleteGroup=this.deleteGroup.bind(this),this.onDeleteOk=this.onDeleteOk.bind(this),this.onDeleteCancel=this.onDeleteCancel.bind(this),this.onAddGroupSubmit=this.onAddGroupSubmit.bind(this),this.onAddGroupError=this.onAddGroupError.bind(this),this.onAddGroupSuccess=this.onAddGroupSuccess.bind(this),this.updateGroupRole=this.updateGroupRole.bind(this),this.state={search:"",isLoading:!1,addGroupError:"",showDelete:!1,groupToDelete:void 0,showAddGroup:!1,groupEntries:[],isClient:!1,authenticatedRole:props.inheritedRole||[],currentPage:0,pageSize:10}}componentDidMount(){this.setState({isClient:!0}),this.fetchData()}UNSAFE_componentWillReceiveProps(nextProps){(this.props.deleteGroupRequest.loading&&nextProps.deleteGroupRequest.loaded||this.props.createGroupRequest.loading&&nextProps.createGroupRequest.loaded)&&this.props.listGroups(this.state.search),this.props.deleteGroupRequest.loading&&nextProps.deleteGroupRequest.loaded&&this.onDeleteGroupSuccess(),this.props.createGroupRequest.loading&&nextProps.createGroupRequest.loaded&&this.onAddGroupSuccess(),this.props.createGroupRequest.loading&&nextProps.createGroupRequest.error&&this.onAddGroupError(nextProps.createGroupRequest.error),this.props.loadRolesRequest.loading&&nextProps.loadRolesRequest.error&&this.setState({error:nextProps.loadRolesRequest.error})}getGroupFromProps(value){return find_default()(this.props.groups,["@id",value])}onSearchGroups(event){this.setState({isLoading:!0}),event.preventDefault(),this.props.listGroups(this.state.search).then((()=>{this.setState({isLoading:!1})})).catch((error=>{this.setState({isLoading:!1}),console.error("Error searching group",error)}))}onChangeSearch(event){this.setState({search:event.target.value})}deleteGroup(event,{value:value}){value&&this.setState({showDelete:!0,groupToDelete:this.getGroupFromProps(value)})}onDeleteOk(){this.state.groupToDelete&&this.props.deleteGroup(this.state.groupToDelete.id)}onDeleteCancel(){this.setState({showDelete:!1,itemsToDelete:[],groupToDelete:void 0})}updateGroupRole(name,value){this.setState((prevState=>({groupEntries:map_default()(this.state.groupEntries,(entry=>(0,objectSpread2.c)((0,objectSpread2.c)({},entry),{},{roles:entry.id!==name||entry.roles.includes(value)?entry.id!==name?entry.roles:pull_default()(entry.roles,value):[...entry.roles,value]}))),authenticatedRole:"AuthenticatedUsers"!==name||prevState.authenticatedRole.includes(value)?"AuthenticatedUsers"!==name?prevState.authenticatedRole:pull_default()(prevState.authenticatedRole,value):[...prevState.authenticatedRole,value]})))}onAddGroupSubmit(data,callback){this.props.createGroup(data),this.setState({addGroupSetFormDataCallback:callback})}onAddGroupError(error){this.setState({addGroupError:error.response.body.message})}componentDidUpdate(prevProps,prevState){this.props.groups!==prevProps.groups&&this.setState({groupEntries:this.props.groups})}onAddGroupSuccess(){this.state.addGroupSetFormDataCallback({}),this.setState({showAddGroup:!1,addGroupError:void 0,addGroupSetFormDataCallback:void 0}),react_toastify.toast.success(__jsx(Toast.c,{success:!0,title:this.props.intl.formatMessage(MessageLabels.c.success),content:this.props.intl.formatMessage(MessageLabels.c.groupCreated)}))}onDeleteGroupSuccess(){this.setState({groupToDelete:void 0,showDelete:!1}),react_toastify.toast.success(__jsx(Toast.c,{success:!0,title:this.props.intl.formatMessage(MessageLabels.c.success),content:this.props.intl.formatMessage(MessageLabels.c.groupDeleted)}))}render(){var _this$props,_this$props$deleteGro,_this$state$groupEntr;if(this.state.error)return __jsx(Error.c,{error:this.state.error});let groupNameToDelete=this.state.groupToDelete?this.state.groupToDelete.id:"";const isUserManager=(0,User.YH)(this.props.user);return __jsx(Container.c,{className:"users-control-panel"},__jsx(Helmet.c,{title:this.props.intl.formatMessage(MessageLabels.c.groups)}),__jsx("div",{className:"container"},__jsx(Confirm.c,{open:this.state.showDelete,header:this.props.intl.formatMessage(MessageLabels.c.deleteGroupConfirmTitle),content:__jsx("div",{className:"content"},__jsx(Dimmer.c,{active:null==this||null===(_this$props=this.props)||void 0===_this$props||null===(_this$props$deleteGro=_this$props.deleteGroupRequest)||void 0===_this$props$deleteGro?void 0:_this$props$deleteGro.loading},__jsx(Loader.c,null,__jsx(message.c,{id:"Loading",defaultMessage:"Loading."}))),__jsx("ul",{className:"content"},__jsx(message.c,{id:"Do you really want to delete the group {groupname}?",defaultMessage:"Do you really want to delete the group {groupname}?",values:{groupname:__jsx("b",null,groupNameToDelete)}}))),onCancel:this.onDeleteCancel,onConfirm:this.onDeleteOk,size:null}),this.state.showAddGroup?__jsx(Form.Ah,{open:this.state.showAddGroup,className:"modal",onSubmit:this.onAddGroupSubmit,submitError:this.state.addGroupError,onCancel:()=>this.setState({showAddGroup:!1}),title:this.props.intl.formatMessage(MessageLabels.c.addGroupsFormTitle),loading:this.props.createGroupRequest.loading,schema:{fieldsets:[{id:"default",title:"FIXME: Group Data",fields:["title","description","groupname","email","roles"]}],properties:{title:{title:this.props.intl.formatMessage(MessageLabels.c.addGroupsFormTitleTitle),type:"string",description:""},description:{title:this.props.intl.formatMessage(MessageLabels.c.addGroupsFormDescriptionTitle),type:"string",description:""},groupname:{title:this.props.intl.formatMessage(MessageLabels.c.addGroupsFormGroupNameTitle),type:"string",description:"A unique identifier for the group. Can not be changed after creation."},email:{title:this.props.intl.formatMessage(MessageLabels.c.addGroupsFormEmailTitle),type:"string",description:"",widget:"email"},roles:{title:this.props.intl.formatMessage(MessageLabels.c.addGroupsFormRolesTitle),type:"array",choices:this.props.roles.filter((role=>(0,User.s5)(isUserManager,role))).map((role=>[role.id,role.title])),noValueOption:!1,description:""}},required:["groupname"]}}):null),__jsx(Segment.c.Group,{raised:!0},__jsx(Segment.c,{className:"primary"},__jsx(message.c,{id:"Groups",defaultMessage:"Groups"})),__jsx(Segment.c,{secondary:!0},__jsx(message.c,{id:"Groups are logical collections of users, such as departments and business units. Groups are not directly related to permissions on a global level, you normally use Roles for that - and let certain Groups have a particular role. The symbol{plone_svg}indicates a role inherited from membership in another group.",defaultMessage:"Groups are logical collections of users, such as departments and business units. Groups are not directly related to permissions on a global level, you normally use Roles for that - and let certain Groups have a particular role. The symbol{plone_svg}indicates a role inherited from membership in another group.",values:{plone_svg:__jsx(Icon.c,{name:plone_default(),size:"20px",color:"#007EB1",title:"plone-svg"})}})),__jsx(Segment.c,null,__jsx(Form_Form.c,{onSubmit:this.onSearchGroups},__jsx(Form_Form.c.Field,null,__jsx(Input.c,{name:"SearchableText",action:{icon:"search",loading:this.state.isLoading,disabled:this.state.isLoading},placeholder:this.props.intl.formatMessage(MessageLabels.c.searchGroups),onChange:this.onChangeSearch,id:"group-search-input"})))),__jsx(Form_Form.c,null,__jsx("div",{className:"table"},(this.props.many_groups&&this.state.groupEntries.length>0||!this.props.many_groups)&&__jsx(Table.c,{padded:!0,striped:!0,attached:!0,unstackable:!0},__jsx(Table.c.Header,null,__jsx(Table.c.Row,null,__jsx(Table.c.HeaderCell,null,__jsx(message.c,{id:"Groupname",defaultMessage:"Groupname"})),this.props.roles.map((role=>__jsx(Table.c.HeaderCell,{key:role.id},role.title))),__jsx(Table.c.HeaderCell,null,__jsx(message.c,{id:"Actions",defaultMessage:"Actions"})))),__jsx(Table.c.Body,{"data-group":"groups"},this.state.groupEntries.slice(10*this.state.currentPage,this.state.pageSize*(this.state.currentPage+1)).map((group=>__jsx(RenderGroups.default,{key:group.id,onDelete:this.deleteGroup,roles:this.props.roles,group:group,updateGroups:this.updateGroupRole,inheritedRole:this.state.authenticatedRole,isUserManager:isUserManager}))))),0===this.state.groupEntries.length&&this.state.search&&__jsx(Segment.c,null,this.props.intl.formatMessage(MessageLabels.c.groupSearchNoResults))),__jsx("div",{className:"contents-pagination"},__jsx(Pagination.c,{current:this.state.currentPage,total:Math.ceil((null===(_this$state$groupEntr=this.state.groupEntries)||void 0===_this$state$groupEntr?void 0:_this$state$groupEntr.length)/this.state.pageSize),onChangePage:this.onChangePage})))),this.state.isClient&&(0,react_dom.createPortal)(__jsx(Toolbar.c,{pathname:this.props.pathname,hideDefaultViewButtons:!0,inner:__jsx(react.Fragment,null,__jsx(Button.c,{id:"toolbar-save",className:"save","aria-label":this.props.intl.formatMessage(MessageLabels.c.save),onClick:this.updateGroupRoleSubmit,loading:this.props.createGroupRequest.loading},__jsx(Icon.c,{name:save_default(),className:"circled",size:"30px",title:this.props.intl.formatMessage(MessageLabels.c.save)})),__jsx(react_router_dom.cH,{to:"/controlpanel",className:"cancel"},__jsx(Icon.c,{name:clear_default(),className:"circled","aria-label":this.props.intl.formatMessage(MessageLabels.c.cancel),size:"30px",title:this.props.intl.formatMessage(MessageLabels.c.cancel)})),__jsx(Button.c,{id:"toolbar-add","aria-label":this.props.intl.formatMessage(MessageLabels.c.addGroupsButtonTitle),onClick:()=>{this.setState({showAddGroup:!0})},loading:this.props.createGroupRequest.loading},__jsx(Icon.c,{name:add_user_default(),size:"45px",color:"#826A6A",title:this.props.intl.formatMessage(MessageLabels.c.addGroupsButtonTitle)})))}),document.getElementById("toolbar")))}}var Groups_GroupsControlpanel=(0,redux.compose)(injectIntl.cp,(0,es.connect)(((state,props)=>{var _state$controlpanels,_state$controlpanels$,_state$controlpanels$2,_state$controlpanels2,_state$controlpanels3,_state$controlpanels4;return{user:state.users.user,userId:state.userSession.token?lib_default()(state.userSession.token).sub:"",roles:state.roles.roles,groups:state.groups.groups,description:state.description,many_users:null===(_state$controlpanels=state.controlpanels)||void 0===_state$controlpanels||null===(_state$controlpanels$=_state$controlpanels.controlpanel)||void 0===_state$controlpanels$||null===(_state$controlpanels$2=_state$controlpanels$.data)||void 0===_state$controlpanels$2?void 0:_state$controlpanels$2.many_users,many_groups:null===(_state$controlpanels2=state.controlpanels)||void 0===_state$controlpanels2||null===(_state$controlpanels3=_state$controlpanels2.controlpanel)||void 0===_state$controlpanels3||null===(_state$controlpanels4=_state$controlpanels3.data)||void 0===_state$controlpanels4?void 0:_state$controlpanels4.many_groups,pathname:props.location.pathname,deleteGroupRequest:state.groups.delete,createGroupRequest:state.groups.create,loadRolesRequest:state.roles,inheritedRole:state.authRole.authenticatedRole}}),(dispatch=>(0,redux.bindActionCreators)({listRoles:roles.Y,listGroups:groups.Ud,deleteGroup:groups.Qx,getControlpanel:controlpanels.Gm,createGroup:groups.Gs,updateGroup:groups.oh,authenticatedRole:authenticatedRole,getUser:users.eg},dispatch))))(GroupsControlpanel);GroupsControlpanel.__docgenInfo={description:"GroupsControlpanel class.\n@class GroupsControlpanel\n@extends Component",methods:[{name:"fetchData",docblock:null,modifiers:["async"],params:[],returns:null},{name:"getGroupFromProps",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:null}],returns:null},{name:"onSearchGroups",docblock:"@param {*} event Event object\n@memberof GroupsControlpanel\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object",type:{name:"mixed"},optional:!1}],returns:{},description:null},{name:"onChangeSearch",docblock:"On change search handler\n@method onChangeSearch\n@param {object} event Event object.\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object.",type:{name:"object"},optional:!1}],returns:{},description:"On change search handler"},{name:"deleteGroup",docblock:"@param {*} event Event object.\n@param {*} { value } id (groupname)\n@memberof GroupsControlpanel\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object.",type:{name:"mixed"},optional:!1},{name:"{ value }",optional:!1}],returns:{},description:null},{name:"onDeleteOk",docblock:"On delete ok\n@method onDeleteOk\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"On delete ok"},{name:"onDeleteCancel",docblock:"On delete cancel\n@method onDeleteCancel\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"On delete cancel"},{name:"updateGroupRole",docblock:"@param {*} name\n@param {*} value\n@memberof GroupsControlpanel",modifiers:[],params:[{name:"name",type:{name:"mixed"},optional:!1},{name:"value",type:{name:"mixed"},optional:!1}],returns:null,description:null},{name:"updateGroupRoleSubmit",docblock:"@param {*} event\n@memberof GroupsControlpanel",modifiers:[],params:[{name:"e",optional:!1}],returns:null,description:null},{name:"onAddGroupSubmit",docblock:"@param {object} data Form data from the ModalForm.\n@param {func} callback to set new form data in the ModalForm\n@memberof GroupsControlpanel\n@returns {undefined}",modifiers:[],params:[{name:"data",description:"Form data from the ModalForm.",type:{name:"object"},optional:!1},{name:"callback",description:"to set new form data in the ModalForm",type:{name:"func"},optional:!1}],returns:{},description:null},{name:"onAddGroupError",docblock:"Handle Errors after createGroup()\n\n@param {*} error object. Requires the property .message\n@memberof GroupsControlpanel\n@returns {undefined}",modifiers:[],params:[{name:"error",description:"object. Requires the property .message",type:{name:"mixed"},optional:!1}],returns:{},description:"Handle Errors after createGroup()"},{name:"onAddGroupSuccess",docblock:"Handle Success after createGroup()\n\n@memberof GroupsControlpanel\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"Handle Success after createGroup()"},{name:"onDeleteGroupSuccess",docblock:"Handle Success after deleteGroup()\n\n@returns {undefined}",modifiers:[],params:[],returns:{},description:"Handle Success after deleteGroup()"},{name:"onChangePage",docblock:"On change page\n@method onChangePage\n@param {object} event Event object.\n@param {string} value Page value.\n@returns {undefined}",modifiers:[],params:[{name:"event",description:"Event object.",type:{name:"object"},optional:!1},{name:"{ value }",optional:!1}],returns:{},description:"On change page"}],displayName:"GroupsControlpanel",props:{listRoles:{description:"",type:{name:"func"},required:!0},listGroups:{description:"",type:{name:"func"},required:!0},pathname:{description:"",type:{name:"string"},required:!0},roles:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{"@id":{name:"string",required:!1},"@type":{name:"string",required:!1},id:{name:"string",required:!1}}}},required:!0},groups:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{Title:{name:"string",required:!1},Description:{name:"string",required:!1},roles:{name:"arrayOf",value:{name:"string"},required:!1},groupname:{name:"string",required:!1}}}},required:!0},user:{description:"",type:{name:"shape",value:{"@id":{name:"string",required:!1},id:{name:"string",required:!1},description:{name:"string",required:!1},email:{name:"string",required:!1},fullname:{name:"string",required:!1},groups:{name:"object",required:!1},location:{name:"string",required:!1},portrait:{name:"string",required:!1},home_page:{name:"string",required:!1},roles:{name:"arrayOf",value:{name:"string"},required:!1},username:{name:"string",required:!1}}},required:!0}}}},"./src/components/manage/Controlpanels/Groups/RenderGroups.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_intl__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/react-intl@3.12.1_react@18.2.0/node_modules/react-intl/lib/components/message.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/collections/Table/Table.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Checkbox/Checkbox.js"),semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Dropdown/Dropdown.js"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/icons/delete.svg"),_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1__),_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/plone.svg"),_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_2__),_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/theme/Icon/Icon.jsx"),_plone_volto_helpers_User_User__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/helpers/User/User.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const RenderGroups=props=>{const onChange=(event,{value:value})=>{const[group,role]=value.split(".");props.updateGroups(group,role)};return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.c.Row,{key:props.group.title},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.c.Cell,null,props.group.groupname),props.roles.map((role=>{return __jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.c.Cell,{key:role.id},props.inheritedRole&&props.inheritedRole.includes(role.id)&&props.group.roles.includes("Authenticated")?__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_3__.c,{name:_plone_volto_icons_plone_svg__WEBPACK_IMPORTED_MODULE_2___default(),size:"20px",color:"#007EB1",title:"plone-svg"}):__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__.c,{checked:"AuthenticatedUsers"===props.group.id?(roleId=role.id,props.inheritedRole.includes(roleId)):props.group.roles.includes(role.id),onChange:onChange,value:`${props.group.id}.${role.id}`,disabled:!(0,_plone_volto_helpers_User_User__WEBPACK_IMPORTED_MODULE_4__.s5)(props.isUserManager,role)}));var roleId})),__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_5__.c.Cell,{textAlign:"right"},(!!props.isUserManager||!props.group.roles.includes("Manager"))&&__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__.c,{icon:"ellipsis horizontal"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__.c.Menu,{className:"left"},__jsx(semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__.c.Item,{onClick:props.onDelete,value:props.group["@id"]},__jsx(_plone_volto_components_theme_Icon_Icon__WEBPACK_IMPORTED_MODULE_3__.c,{name:_plone_volto_icons_delete_svg__WEBPACK_IMPORTED_MODULE_1___default(),size:"15px"}),__jsx(react_intl__WEBPACK_IMPORTED_MODULE_8__.c,{id:"Delete",defaultMessage:"Delete"}))))))};__webpack_exports__.default=RenderGroups,RenderGroups.__docgenInfo={description:"",methods:[],displayName:"RenderGroups",props:{group:{description:"",type:{name:"shape",value:{title:{name:"string",required:!1},description:{name:"string",required:!1},email:{name:"string",required:!1},groupname:{name:"string",required:!1},roles:{name:"arrayOf",value:{name:"string"},required:!1}}},required:!0},roles:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1}}}},required:!0},inheritedRole:{description:"",type:{name:"array"},required:!1},onDelete:{description:"",type:{name:"func"},required:!0}}}},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOfWith.js":function(module){module.exports=function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePullAll.js":function(module,__unused_webpack_exports,__webpack_require__){var arrayMap=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayMap.js"),baseIndexOf=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOf.js"),baseIndexOfWith=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOfWith.js"),baseUnary=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseUnary.js"),copyArray=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_copyArray.js"),splice=Array.prototype.splice;module.exports=function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pull.js":function(module,__unused_webpack_exports,__webpack_require__){var pull=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRest.js")(__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pullAll.js"));module.exports=pull},"../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pullAll.js":function(module,__unused_webpack_exports,__webpack_require__){var basePullAll=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePullAll.js");module.exports=function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}},"../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/addons/Confirm/Confirm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../../node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),lodash_es_has__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/has.js"),lodash_es_has__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_es_has__WEBPACK_IMPORTED_MODULE_0__),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/invoke.js"),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("../../../node_modules/.pnpm/prop-types@15.7.2/node_modules/prop-types/index.js"),__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/lib/getUnhandledProps.js"),_elements_Button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../../node_modules/.pnpm/semantic-ui-react@2.1.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js"),Confirm=function(_Component){function Confirm(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleCancel=function(e){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(_this.props,"onCancel",e,_this.props)},_this.handleCancelOverrides=function(predefinedProps){return{onClick:function onClick(e,buttonProps){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(predefinedProps,"onClick",e,buttonProps),_this.handleCancel(e)}}},_this.handleConfirmOverrides=function(predefinedProps){return{onClick:function onClick(e,buttonProps){lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(predefinedProps,"onClick",e,buttonProps),lodash_es_invoke__WEBPACK_IMPORTED_MODULE_1___default()(_this.props,"onConfirm",e,_this.props)}}},_this}return(0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_4__.c)(Confirm,_Component),Confirm.prototype.render=function render(){var _this$props=this.props,cancelButton=_this$props.cancelButton,confirmButton=_this$props.confirmButton,content=_this$props.content,header=_this$props.header,open=_this$props.open,size=_this$props.size,rest=(0,_lib__WEBPACK_IMPORTED_MODULE_5__.c)(Confirm,this.props),openProp={};return lodash_es_has__WEBPACK_IMPORTED_MODULE_0___default()(this.props,"open")&&(openProp.open=open),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c,(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_7__.c)({},rest,openProp,{size:size,onClose:this.handleCancel}),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Header.create(header,{autoGenerateKey:!1}),_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Content.create(content,{autoGenerateKey:!1}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_modules_Modal__WEBPACK_IMPORTED_MODULE_6__.c.Actions,null,_elements_Button__WEBPACK_IMPORTED_MODULE_8__.c.create(cancelButton,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),_elements_Button__WEBPACK_IMPORTED_MODULE_8__.c.create(confirmButton,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))},Confirm}(react__WEBPACK_IMPORTED_MODULE_3__.Component);Confirm.handledProps=["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"],Confirm.propTypes={},Confirm.defaultProps={cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"},__webpack_exports__.c=Confirm},"./src/icons/add-user.svg":function(module){module.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36"},content:'<g fill="#000" fill-rule="evenodd"><path d="M4.8774 28 23.1324 28C22.3064 26.614 20.0084 25.548 19.0924 25.232 15.4554 24.373 15.0454 22.379 15.0114 22.154L15.0004 22.003 15.0004 18.895 15.6304 18.645C16.8514 18.158 16.7644 17.393 16.7634 17.386L16.6384 16.607 17.3654 16.304C17.4044 16.268 17.5774 16.064 17.9134 15.315 17.8684 15.255 17.7984 15.185 17.7704 15.163L17.1894 14.725 17.8304 12.881C18.1344 11.639 18.0094 10.353 17.4614 9.651 17.1974 9.314 16.8544 9 16.5174 9L15.9664 9 15.6724 8.655C15.6704 8.653 15.0354 7.766 14.0284 7.766 13.5514 7.769 12.1334 7.916 11.3624 8.421 10.4574 9.013 9.5174 10.292 10.1784 12.953L10.7744 14.773 10.1364 15.196C10.0934 15.228 10.0314 15.292 9.9984 15.339 10.1754 15.816 10.5154 16.233 10.6504 16.308L11.4284 16.632 11.2414 17.388C11.2324 17.494 11.2244 18.188 12.3694 18.644L13.0004 18.894 12.9884 22.151C12.9554 22.376 12.5524 24.373 8.8194 25.259 7.9814 25.553 5.7004 26.615 4.8774 28L4.8774 28ZM25.0004 30 3.0004 30 3.0004 29C3.0004 25.39 7.8954 23.539 8.4774 23.34 10.5884 22.834 10.8954 22.057 11.0004 21.847L11.0004 20.199C9.8114 19.515 9.3684 18.523 9.2664 17.76 8.7184 17.278 8.2894 16.536 8.0804 15.916 7.8304 15.176 8.0854 14.536 8.4414 14.083L8.2574 13.521C7.2064 9.3 9.3144 7.401 10.2674 6.777 11.6724 5.858 13.7894 5.827 14.0254 5.826 15.5324 5.826 16.5564 6.734 17.0414 7.29 17.8034 7.429 18.5104 7.867 19.0364 8.54 19.5834 9.239 20.4024 10.807 19.7454 13.45L19.5164 14.114C19.9054 14.644 20.0924 15.325 19.7984 15.997 19.5254 16.62 19.2044 17.289 18.7404 17.739 18.6424 18.505 18.2004 19.509 17.0004 20.199L17.0004 21.87C17.0754 22.01 17.3384 22.816 19.4304 23.313 20.1054 23.539 25.0004 25.389 25.0004 29L25.0004 30ZM29 5 27 5 27 9 23 9 23 11 27 11 27 15 29 15 29 11 33 11 33 9 29 9z"/></g>'}},"./src/icons/plone.svg":function(module){module.exports={attributes:{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36"},content:'<g fill-rule="evenodd"><path d="M18.5,30 C12.159,30 7,24.841 7,18.5 C7,12.159 12.159,7 18.5,7 C24.841,7 30,12.159 30,18.5 C30,24.841 24.841,30 18.5,30 M18.5,4 C10.505,4 4,10.505 4,18.5 C4,26.495 10.505,33 18.5,33 C26.495,33 33,26.495 33,18.5 C33,10.505 26.495,4 18.5,4"/><path d="M16.5 15.5C18.157 15.5 19.5 14.157 19.5 12.5 19.5 10.843 18.157 9.5 16.5 9.5 14.843 9.5 13.5 10.843 13.5 12.5 13.5 14.157 14.843 15.5 16.5 15.5M16.5 21.5C14.843 21.5 13.5 22.843 13.5 24.5 13.5 26.157 14.843 27.5 16.5 27.5 18.157 27.5 19.5 26.157 19.5 24.5 19.5 22.843 18.157 21.5 16.5 21.5M22.5 15.5C20.843 15.5 19.5 16.843 19.5 18.5 19.5 20.157 20.843 21.5 22.5 21.5 24.157 21.5 25.5 20.157 25.5 18.5 25.5 16.843 24.157 15.5 22.5 15.5"/></g>'}}}]);